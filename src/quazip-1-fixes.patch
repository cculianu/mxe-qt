This file is part of MXE. See LICENSE.md for licensing information.

Contains ad hoc patches for cross building.

From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Jonas Kvinge <jonas@jkvinge.net>
Date: Fri, 1 May 2020 13:52:22 +0200
Subject: [PATCH 1/1] Fix compile


diff --git a/CMakeLists.txt b/CMakeLists.txt
index 1111111..2222222 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -52,10 +52,8 @@ set(QUAZIP_LIB_TARGET_NAME ${QUAZIP_LIB_VERSION_PREFIX}Quazip CACHE
 
 add_subdirectory(quazip)
 
-if(UNIX AND NOT APPLE)
-    configure_file(quazip.pc.cmakein quazip.pc @ONLY)
-    install(FILES ${CMAKE_CURRENT_BINARY_DIR}/quazip.pc DESTINATION ${CMAKE_INSTALL_LIBDIR}/pkgconfig)
-endif()
+configure_file(quazip.pc.cmakein quazip.pc @ONLY)
+install(FILES ${CMAKE_CURRENT_BINARY_DIR}/quazip.pc DESTINATION ${CMAKE_INSTALL_LIBDIR}/pkgconfig)
 
 install(FILES QuaZipConfig.cmake
         DESTINATION ${CMAKE_INSTALL_LIBDIR}/cmake/QuaZip${QUAZIP_LIB_VERSION_SUFFIX}
diff --git a/quazip/CMakeLists.txt b/quazip/CMakeLists.txt
index 1111111..2222222 100644
--- a/quazip/CMakeLists.txt
+++ b/quazip/CMakeLists.txt
@@ -13,9 +13,7 @@ add_library(quazip_static STATIC ${SRCS})
  
 # Windows uses .lib extension for both static and shared library
 # *nix systems use different extensions for SHARED and STATIC library and by convention both libraries have the same name
-if (NOT WIN32)
-    set_target_properties(quazip_static PROPERTIES OUTPUT_NAME ${QUAZIP_LIB_VERSION_PREFIX}Quazip)
-endif ()
+set_target_properties(quazip_static PROPERTIES OUTPUT_NAME ${QUAZIP_LIB_VERSION_PREFIX}Quazip)
 
 target_include_directories(${QUAZIP_LIB_TARGET_NAME} PUBLIC ${CMAKE_CURRENT_SOURCE_DIR} ${CMAKE_CURRENT_BINARY_DIR} ${ZLIB_INCLUDE_DIRS})
 target_include_directories(quazip_static PUBLIC ${CMAKE_CURRENT_SOURCE_DIR} ${CMAKE_CURRENT_BINARY_DIR} ${ZLIB_INCLUDE_DIRS})
